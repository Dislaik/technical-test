{% extends './base.html' %}

{% block body %}
  <div class="d-flex flex-column min-vh-100 justify-content-center align-items-center">
    <h1>{{ data.title }}</h1>
    <div class="card shadow workspace">
      <div class="card-body d-flex flex-column">
        <h4 class="card-title text-center">
          {% if data.path %}
            Camino encontrado
          {% else %}
            No se encontr√≥ un camino
          {% endif %}
        </h4>
        <div class="flex-grow-1 d-flex justify-content-center align-items-center">
          <div class="d-flex flex-column gap-1">
            {% for row in data.load_cells %}
              <div class="d-flex justify-content-center align-items-center gap-1">
                {% for cell in row %}
                  {% set classes = "border p-2 text-center" %}
                  {% if cell.x == data.init_coords[0] and cell.y == data.init_coords[1] %}
                    {% set classes = classes + " bg-dark text-white" %}
                  {% elif cell.x == data.dest_coords[0] and cell.y == data.dest_coords[1] %}
                    {% set classes = classes + " bg-warning text-dark" %}
                  {% elif [cell.x, cell.y] in data.path %}
                    {% set classes = classes + " bg-success text-white" %}
                  {% endif %}
                  <div class="{{ classes }}" style="width: 40px; height: 40px; font-size: 14px;">
                    {{ cell.number }}
                  </div>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
        </div>
        <div class="d-flex gap-2">
          <button onclick="window.location.href='/'" class="btn btn-primary w-100 mt-3">
            Comenzar de nuevo
          </button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}